<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="index.css" rel="stylesheet" type="text/css"/>
        <script src="angular.min.js" type="text/javascript"></script>
        <script src="index.js" type="text/javascript"></script>
    </head>
    <body ng-app="app" ng-controller="ctrl" ng-keydown="keyUp($event)">
        <div>
            <button ng-click="removeLast()">RemoveLast</button>
            <button ng-click="fillNext()">Fill Next</button>
            <button ng-click="emptyTable()">Clear</button>
            <button ng-click="resetAll()">Clear All</button>
            <button ng-click="fillHints()">Hints</button>
            <input type="checkbox" ng-model="userInput" id="userInput"/> <label for="userInput">User Input</label>
            <div style="float: right;">
                <button ng-click="fillAllSingles()">Fill All Singles</button>
                <button ng-click="fillBoxUnique()">Fill Box Unique</button>
                <button ng-click="fillHlineUnique()">Fill H Line Unique</button>
                <button ng-click="fillVlineUnique()">Fill V Line Unique</button><br>
                <button ng-click="fillAllUnique()">Do All</button>
                <button ng-click="startGuess()">Start Guess</button>
            </div>
            <br>
            Num : {{num}}<br>
            Count : {{countNum()}}<br>
            Attempt : {{attempt}}<br>
            ResetCount : {{resetCount}}&nbsp;&nbsp;&nbsp;
            <button ng-click="fillAll()">Fill All</button><button ng-click="preFill()">Pre Fill</button>
        </div>
        <table style="float: left;">
            <tr ng-repeat="(i,row) in table track by $index">
                <td ng-repeat="(j,col) in row track by $index" 
                    ng-class="[style[i][j],{selected:(selectedRow == i && selectedCol == j), preDefined: preDefined[i][j]}]"
                    ng-click="cellClicked(i, j)"
                    class="{{col == '' ? 'blank' : ''}}">{{col}}</td>
            </tr>
        </table>
        <table style="float: left;margin-left: 50px;">
            <tr ng-repeat="(i,row) in tableH track by $index">
                <td ng-repeat="(j,col) in row track by $index" 
                    ng-class="[style[i][j],{selected:(selectedRow == i && selectedCol == j), preDefined: preDefined[i][j], used: tableUsed[i][j]}]"
                    ng-click="hintCellClicked(i, j)"
                    class="hint {{col == '' ? 'blank' : ''}}">
                    <span ng-repeat="p in col">{{p}}</span>
                </td>
            </tr>
        </table>
    </body>
</html>
